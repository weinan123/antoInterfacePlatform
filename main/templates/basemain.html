<!DOCTYPE HTML>
<html>
<head>
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <link href="/static/css/bootstrap-theme.css" rel="stylesheet">
    <link href="/static/css/bootstrap-select.min.css" rel="stylesheet">
    <link href="/static/css/myCss.css" rel="stylesheet">
    <link href="/static/css/singleCss.css" rel="stylesheet">
    <link href="/static/js/toast/toastr.min.css" rel="stylesheet" type="text/css">
    <link href="/static/dist/jsoneditor.min.css" rel="stylesheet" type="text/css">
    <!--<link href="/static/FlexiJsonEditor-master/jsoneditor.css" rel="stylesheet">

    <!--<script src="/static/js/bootstrap.min.js"></script>-->
    <link href="https://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcss.com/bootstrap-switch/4.0.0-alpha.1/css/bootstrap-switch.min.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="https://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="/static/js/bootstrap-select.min.js"></script>
    <script src="/static/js/vue.js"></script>
    <script src="/static/js/csrf.js"></script>
    <script src="/static/js/axios.js"></script>
    <script src="/static/js/vue-router.js"></script>
    <script src="/static/dist/jsoneditor.min.js"></script>
    <script src="/static/js/toast/toastr.min.js"></script>
    <script src="/static/js/echarts.min.js"></script>
    <script src="/static/js/spin.min.js"></script>
    {% block script %}

    {% endblock %}

    {% block title %}
    <title> My First Title</title>
    {% endblock %}
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="This is my page">
</head>
<body>
    <div style="margin-top: 63px;margin-left: 15px">
        <div  class="navbar-fixed-top" style="background-color: #428bca;text-align: center" id ="app" >
            <div class="col-md-4"></div>
            <div class="col-md-4"><h3 style="color: white">自动化接口系统</h3></div>
            <div v-show="status === 'success'" class="col-md-4" >
                <a href="/"><span  style="color: white;line-height: 60px;">当前用户：{! login_user !}</span></a>&nbsp&nbsp&nbsp
                <a href="/logout/"><span style="color: white;line-height: 60px;" >退出</span></a>
            </div>
            <div v-show="status==='fail'" class="col-md-4">
                <a href="/login/"><span style="color: white;line-height: 60px;" >登录</span></a> &nbsp&nbsp&nbsp
                <a href="/register/"><span style="color: white;line-height: 60px;">注册</span></a>
            </div>
        </div>
        <div class="row" id="contents">
        {% block content1 %}
        {% endblock %}
        {% block content %}
        {% endblock %}
        </div>
    </div>
<script type="text/javascript">
var vm = new Vue({
    delimiters: ['{!', '!}'],
    el:'#app',
    data:{
        status:"fail",
        success:"",
        login_user:""
     },
    created(){
        //this.getUsername();
    },
    methods:{
     //获取cookie
        getCookie(cname){
            var name = cname + "=";
            var ca = document.cookie.split(';');
            console.log(ca);
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                console.log(c);
                var key = c.split("=")[0];
                if(cname===key){
                    let cookie_value = c.split("=")[1];
                    return cookie_value
                }
            }
        return "";
      },
        //赋值username
        getUsername(){
            var usename = this.getCookie("usename");
            console.log(usename);
            if (usename===""){
                this.status = "";
                this.login_user = "";
            }else{
                this.status="success";
                this.login_user = usename;
                //window.location.href="/index/";
            }
            console.log(this.status);
        },
        //样式绑定
        changeTab(params){
            window.location.href("/"+params)
        }
    }
})
</script>
{% block vuejs %}
{% endblock %}
</body>
</html>